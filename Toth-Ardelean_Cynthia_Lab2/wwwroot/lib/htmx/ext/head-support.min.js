!function(){var x=null;function r(e,t){if(e&&-1<e.indexOf("<head")){const c=document.createElement("html");e=e.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"").match(/(<head(\s[^>]*>|>)([\s\S]*?)<\/head>)/im);if(e){var r=[],n=[],d=[],o=[],e=(c.innerHTML=e,c.querySelector("head"));if(null!=e){var a=new Map;for(const g of e.children)a.set(g.outerHTML,g);var h=x.getAttributeValue(e,"hx-head")||t,i=document.head;for(const f of i.children){var m=a.has(f.outerHTML),u="re-eval"===f.getAttribute("hx-head"),s="true"===x.getAttributeValue(f,"hx-preserve");m||s?u?n.push(f):(a.delete(f.outerHTML),d.push(f)):"append"===h?u&&(n.push(f),o.push(f)):!1!==x.triggerEvent(document.body,"htmx:removingHeadElement",{headElement:f})&&n.push(f)}o.push(...a.values());for(const v of o){v;var l=document.createRange().createContextualFragment(v.outerHTML);!1!==x.triggerEvent(document.body,"htmx:addingHeadElement",{headElement:l})&&(i.appendChild(l),r.push(l))}for(const p of n)!1!==x.triggerEvent(document.body,"htmx:removingHeadElement",{headElement:p})&&i.removeChild(p);x.triggerEvent(document.body,"htmx:afterHeadMerge",{added:r,kept:d,removed:n})}}}}htmx.defineExtension("head-support",{init:function(e){x=e,htmx.on("htmx:afterSwap",function(e){var t=e.detail.xhr.response;x.triggerEvent(document.body,"htmx:beforeHeadMerge",e.detail)&&r(t,e.detail.boosted?"merge":"append")}),htmx.on("htmx:historyRestore",function(e){x.triggerEvent(document.body,"htmx:beforeHeadMerge",e.detail)&&(e.detail.cacheMiss?r(e.detail.serverResponse,"merge"):r(e.detail.item.head,"merge"))}),htmx.on("htmx:historyItemCreated",function(e){e.detail.item.head=document.head.outerHTML})}})}();